import{r as l,_ as de,a as ce,c as G,b as K,d as ue,e as Q,R as be,w as U,g as ge,m as pe,u as T,f as H,h as ee,C as X,i as me,D as he,W as fe,T as Ce,j as ve,k as Se,l as d,B as xe,N as ye}from"./index-nY8nNody.js";import{u as ke,F as N,C as L,s as $e,o as we,a as A}from"./types-BAjNrEAS.js";import{u as oe,F as Re,a as te,b as je,p as Ie,I as V,s as Y}from"./index-D0bJF_an.js";import{M as Ee}from"./index-CNiHaKH8.js";const re=l.createContext(null),Pe=re.Provider,ne=l.createContext(null),Be=ne.Provider;var Oe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ze=l.forwardRef(function(e,r){var n=e.prefixCls,o=n===void 0?"rc-checkbox":n,t=e.className,c=e.style,u=e.checked,h=e.disabled,a=e.defaultChecked,R=a===void 0?!1:a,f=e.type,y=f===void 0?"checkbox":f,j=e.title,C=e.onChange,w=de(e,Oe),i=l.useRef(null),s=l.useRef(null),S=oe(R,{value:u}),v=ce(S,2),k=v[0],$=v[1];l.useImperativeHandle(r,function(){return{focus:function(x){var g;(g=i.current)===null||g===void 0||g.focus(x)},blur:function(){var x;(x=i.current)===null||x===void 0||x.blur()},input:i.current,nativeElement:s.current}});var E=G(o,t,K(K({},"".concat(o,"-checked"),k),"".concat(o,"-disabled"),h)),b=function(x){h||("checked"in e||$(x.target.checked),C==null||C({target:Q(Q({},e),{},{type:y,checked:x.target.checked}),stopPropagation:function(){x.stopPropagation()},preventDefault:function(){x.preventDefault()},nativeEvent:x.nativeEvent}))};return l.createElement("span",{className:E,title:j,style:c,ref:s},l.createElement("input",ue({},w,{className:"".concat(o,"-input"),ref:i,onChange:b,disabled:h,checked:!!k,type:y})),l.createElement("span",{className:"".concat(o,"-inner")}))});function _e(e){const r=be.useRef(null),n=()=>{U.cancel(r.current),r.current=null};return[()=>{n(),r.current=U(()=>{r.current=null})},c=>{r.current&&(c.stopPropagation(),n()),e==null||e(c)}]}const Ne=e=>{const{componentCls:r,antCls:n}=e,o=`${r}-group`;return{[o]:Object.assign(Object.assign({},H(e)),{display:"inline-block",fontSize:0,[`&${o}-rtl`]:{direction:"rtl"},[`&${o}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},Te=e=>{const{componentCls:r,wrapperMarginInlineEnd:n,colorPrimary:o,radioSize:t,motionDurationSlow:c,motionDurationMid:u,motionEaseInOutCirc:h,colorBgContainer:a,colorBorder:R,lineWidth:f,colorBgContainerDisabled:y,colorTextDisabled:j,paddingXS:C,dotColorDisabled:w,lineType:i,radioColor:s,radioBgColor:S,calc:v}=e,k=`${r}-inner`,E=v(t).sub(v(4).mul(2)),b=v(1).mul(t).equal({unit:!0});return{[`${r}-wrapper`]:Object.assign(Object.assign({},H(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${r}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${r}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${T(f)} ${i} ${o}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[r]:Object.assign(Object.assign({},H(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${r}-wrapper:hover &,
        &:hover ${k}`]:{borderColor:o},[`${r}-input:focus-visible + ${k}`]:Object.assign({},ee(e)),[`${r}:hover::after, ${r}-wrapper:hover &::after`]:{visibility:"visible"},[`${r}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:b,height:b,marginBlockStart:v(1).mul(t).div(-2).equal({unit:!0}),marginInlineStart:v(1).mul(t).div(-2).equal({unit:!0}),backgroundColor:s,borderBlockStart:0,borderInlineStart:0,borderRadius:b,transform:"scale(0)",opacity:0,transition:`all ${c} ${h}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:b,height:b,backgroundColor:a,borderColor:R,borderStyle:"solid",borderWidth:f,borderRadius:"50%",transition:`all ${u}`},[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${r}-checked`]:{[k]:{borderColor:o,backgroundColor:S,"&::after":{transform:`scale(${e.calc(e.dotSize).div(t).equal()})`,opacity:1,transition:`all ${c} ${h}`}}},[`${r}-disabled`]:{cursor:"not-allowed",[k]:{backgroundColor:y,borderColor:R,cursor:"not-allowed","&::after":{backgroundColor:w}},[`${r}-input`]:{cursor:"not-allowed"},[`${r}-disabled + span`]:{color:j,cursor:"not-allowed"},[`&${r}-checked`]:{[k]:{"&::after":{transform:`scale(${v(E).div(t).equal()})`}}}},[`span${r} + *`]:{paddingInlineStart:C,paddingInlineEnd:C}})}},De=e=>{const{buttonColor:r,controlHeight:n,componentCls:o,lineWidth:t,lineType:c,colorBorder:u,motionDurationSlow:h,motionDurationMid:a,buttonPaddingInline:R,fontSize:f,buttonBg:y,fontSizeLG:j,controlHeightLG:C,controlHeightSM:w,paddingXS:i,borderRadius:s,borderRadiusSM:S,borderRadiusLG:v,buttonCheckedBg:k,buttonSolidCheckedColor:$,colorTextDisabled:E,colorBgContainerDisabled:b,buttonCheckedBgDisabled:O,buttonCheckedColorDisabled:x,colorPrimary:g,colorPrimaryHover:z,colorPrimaryActive:p,buttonSolidCheckedBg:P,buttonSolidCheckedHoverBg:B,buttonSolidCheckedActiveBg:_,calc:I}=e;return{[`${o}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:R,paddingBlock:0,color:r,fontSize:f,lineHeight:T(I(n).sub(I(t).mul(2)).equal()),background:y,border:`${T(t)} ${c} ${u}`,borderBlockStartWidth:I(t).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:t,cursor:"pointer",transition:[`color ${a}`,`background ${a}`,`box-shadow ${a}`].join(","),a:{color:r},[`> ${o}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:I(t).mul(-1).equal(),insetInlineStart:I(t).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:t,paddingInline:0,backgroundColor:u,transition:`background-color ${h}`,content:'""'}},"&:first-child":{borderInlineStart:`${T(t)} ${c} ${u}`,borderStartStartRadius:s,borderEndStartRadius:s},"&:last-child":{borderStartEndRadius:s,borderEndEndRadius:s},"&:first-child:last-child":{borderRadius:s},[`${o}-group-large &`]:{height:C,fontSize:j,lineHeight:T(I(C).sub(I(t).mul(2)).equal()),"&:first-child":{borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v}},[`${o}-group-small &`]:{height:w,paddingInline:I(i).sub(t).equal(),paddingBlock:0,lineHeight:T(I(w).sub(I(t).mul(2)).equal()),"&:first-child":{borderStartStartRadius:S,borderEndStartRadius:S},"&:last-child":{borderStartEndRadius:S,borderEndEndRadius:S}},"&:hover":{position:"relative",color:g},"&:has(:focus-visible)":Object.assign({},ee(e)),[`${o}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${o}-button-wrapper-disabled)`]:{zIndex:1,color:g,background:k,borderColor:g,"&::before":{backgroundColor:g},"&:first-child":{borderColor:g},"&:hover":{color:z,borderColor:z,"&::before":{backgroundColor:z}},"&:active":{color:p,borderColor:p,"&::before":{backgroundColor:p}}},[`${o}-group-solid &-checked:not(${o}-button-wrapper-disabled)`]:{color:$,background:P,borderColor:P,"&:hover":{color:$,background:B,borderColor:B},"&:active":{color:$,background:_,borderColor:_}},"&-disabled":{color:E,backgroundColor:b,borderColor:u,cursor:"not-allowed","&:first-child, &:hover":{color:E,backgroundColor:b,borderColor:u}},[`&-disabled${o}-button-wrapper-checked`]:{color:x,backgroundColor:O,borderColor:u,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},Me=e=>{const{wireframe:r,padding:n,marginXS:o,lineWidth:t,fontSizeLG:c,colorText:u,colorBgContainer:h,colorTextDisabled:a,controlItemBgActiveDisabled:R,colorTextLightSolid:f,colorPrimary:y,colorPrimaryHover:j,colorPrimaryActive:C,colorWhite:w}=e,i=4,s=c,S=r?s-i*2:s-(i+t)*2;return{radioSize:s,dotSize:S,dotColorDisabled:a,buttonSolidCheckedColor:f,buttonSolidCheckedBg:y,buttonSolidCheckedHoverBg:j,buttonSolidCheckedActiveBg:C,buttonBg:h,buttonCheckedBg:h,buttonColor:u,buttonCheckedBgDisabled:R,buttonCheckedColorDisabled:a,buttonPaddingInline:n-t,wrapperMarginInlineEnd:o,radioColor:r?y:w,radioBgColor:r?h:y}},ae=ge("Radio",e=>{const{controlOutline:r,controlOutlineWidth:n}=e,o=`0 0 0 ${T(n)} ${r}`,c=pe(e,{radioFocusShadow:o,radioButtonFocusShadow:o});return[Ne(c),Te(c),De(c)]},Me,{unitless:{radioSize:!0,dotSize:!0}});var qe=function(e,r){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,o=Object.getOwnPropertySymbols(e);t<o.length;t++)r.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(n[o[t]]=e[o[t]]);return n};const Le=(e,r)=>{var n,o;const t=l.useContext(re),c=l.useContext(ne),{getPrefixCls:u,direction:h,radio:a}=l.useContext(X),R=l.useRef(null),f=me(r,R),{isFormItemInput:y}=l.useContext(Re),j=F=>{var q,D;(q=e.onChange)===null||q===void 0||q.call(e,F),(D=t==null?void 0:t.onChange)===null||D===void 0||D.call(t,F)},{prefixCls:C,className:w,rootClassName:i,children:s,style:S,title:v}=e,k=qe(e,["prefixCls","className","rootClassName","children","style","title"]),$=u("radio",C),E=((t==null?void 0:t.optionType)||c)==="button",b=E?`${$}-button`:$,O=te($),[x,g,z]=ae($,O),p=Object.assign({},k),P=l.useContext(he);t&&(p.name=t.name,p.onChange=j,p.checked=e.value===t.value,p.disabled=(n=p.disabled)!==null&&n!==void 0?n:t.disabled),p.disabled=(o=p.disabled)!==null&&o!==void 0?o:P;const B=G(`${b}-wrapper`,{[`${b}-wrapper-checked`]:p.checked,[`${b}-wrapper-disabled`]:p.disabled,[`${b}-wrapper-rtl`]:h==="rtl",[`${b}-wrapper-in-form-item`]:y,[`${b}-wrapper-block`]:!!(t!=null&&t.block)},a==null?void 0:a.className,w,i,g,z,O),[_,I]=_e(p.onClick);return x(l.createElement(fe,{component:"Radio",disabled:p.disabled},l.createElement("label",{className:B,style:Object.assign(Object.assign({},a==null?void 0:a.style),S),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:v,onClick:_},l.createElement(ze,Object.assign({},p,{className:G(p.className,{[Ce]:!E}),type:"radio",prefixCls:b,ref:f,onClick:I})),s!==void 0?l.createElement("span",{className:`${b}-label`},s):null)))},W=l.forwardRef(Le),Ae=l.forwardRef((e,r)=>{const{getPrefixCls:n,direction:o}=l.useContext(X),t=je(),{prefixCls:c,className:u,rootClassName:h,options:a,buttonStyle:R="outline",disabled:f,children:y,size:j,style:C,id:w,optionType:i,name:s=t,defaultValue:S,value:v,block:k=!1,onChange:$,onMouseEnter:E,onMouseLeave:b,onFocus:O,onBlur:x}=e,[g,z]=oe(S,{value:v}),p=l.useCallback(m=>{const se=g,Z=m.target.value;"value"in e||z(Z),Z!==se&&($==null||$(m))},[g,z,$]),P=n("radio",c),B=`${P}-group`,_=te(P),[I,F,q]=ae(P,_);let D=y;a&&a.length>0&&(D=a.map(m=>typeof m=="string"||typeof m=="number"?l.createElement(W,{key:m.toString(),prefixCls:P,disabled:f,value:m,checked:g===m},m):l.createElement(W,{key:`radio-group-value-options-${m.value}`,prefixCls:P,disabled:m.disabled||f,value:m.value,checked:g===m.value,title:m.title,style:m.style,className:m.className,id:m.id,required:m.required},m.label)));const J=ve(j),le=G(B,`${B}-${R}`,{[`${B}-${J}`]:J,[`${B}-rtl`]:o==="rtl",[`${B}-block`]:k},u,h,F,q,_),ie=l.useMemo(()=>({onChange:p,value:g,disabled:f,name:s,optionType:i,block:k}),[p,g,f,s,i,k]);return I(l.createElement("div",Object.assign({},Ie(e,{aria:!0,data:!0}),{className:le,style:C,onMouseEnter:E,onMouseLeave:b,onFocus:O,onBlur:x,id:w,ref:r}),l.createElement(Pe,{value:ie},D)))}),Fe=l.memo(Ae);var Ve=function(e,r){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,o=Object.getOwnPropertySymbols(e);t<o.length;t++)r.indexOf(o[t])<0&&Object.prototype.propertyIsEnumerable.call(e,o[t])&&(n[o[t]]=e[o[t]]);return n};const Ge=(e,r)=>{const{getPrefixCls:n}=l.useContext(X),{prefixCls:o}=e,t=Ve(e,["prefixCls"]),c=n("radio",o);return l.createElement(Be,{value:"button"},l.createElement(W,Object.assign({prefixCls:c},t,{type:"radio",ref:r})))},We=l.forwardRef(Ge),M=W;M.Button=We;M.Group=Fe;M.__ANT_RADIO=!0;const He=we({username:A().min(1,"Name required"),email:A().min(1,"email required").email("Enter a correct email"),password:A().min(6,"Password is required minimum 8 characters").regex(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[\W_]).{8,}$/,"The password must be at least 8 characters long, including at least 1 uppercase letter, 1 lowercase letter, 1 number and 1 symbol"),gender:A().min(1,"Please indicate your gender"),age:A().min(1,"age required").regex(/^\d+$/,"only number")});function Qe(){var j,C,w;const[e,r]=l.useState(!1),n=()=>{r(!0)},o=Se(),t=()=>{r(!1),o("/login")},c=l.useRef(null),{control:u,handleSubmit:h,formState:{errors:a},watch:R}=ke({resolver:$e(He),defaultValues:{username:"",email:"",password:"",gender:"",age:""}});async function f(i){try{const s=await fetch("https://todo-redev.herokuapp.com/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),S=await s.json();if(!s.ok)throw new Error(S.message||"Registration failed");return Y.success("Registration successful!"),o("/login"),n(),S}catch(s){Y.error(s.message||"Registration failed"),console.log("error: ",s)}}const y=async i=>{await f(i)};return d.jsxs(d.Fragment,{children:[d.jsxs(N,{ref:c,onFinish:h(y),layout:"vertical",children:[d.jsx(N.Item,{label:"Name",validateStatus:a.username?"error":"",help:(j=a.username)==null?void 0:j.message,children:d.jsx(L,{name:"username",control:u,render:({field:i})=>d.jsx(V,{...i,placeholder:"Enter your name",autoComplete:"name"})})}),d.jsx(N.Item,{label:"Email",validateStatus:a.email?"error":"",help:a.email?a.email.message:null,children:d.jsx(L,{name:"email",control:u,render:({field:i})=>d.jsx(V,{...i,placeholder:"example@mail.com",autoComplete:"email"})})}),d.jsx(N.Item,{label:"Password",validateStatus:a.password?"error":"",help:a.password?a.password.message:null,children:d.jsx(L,{name:"password",control:u,render:({field:i})=>d.jsx(V.Password,{...i,placeholder:"12345678A!",autoComplete:"new-password"})})}),d.jsx(N.Item,{label:"Gender",validateStatus:a.gender?"error":"",help:(C=a.gender)==null?void 0:C.message,children:d.jsx(L,{name:"gender",control:u,render:({field:i})=>d.jsxs(M.Group,{...i,children:[d.jsx(M,{value:"male",children:" Male "}),d.jsx(M,{value:"female",children:" Female "})]})})}),d.jsx(N.Item,{label:"Age",validateStatus:a.age?"error":"",help:(w=a.age)==null?void 0:w.message,children:d.jsx(L,{name:"age",control:u,render:({field:i})=>d.jsx(V,{...i,placeholder:"25",autoComplete:"age"})})}),d.jsx(N.Item,{children:d.jsx(xe,{type:"primary",htmlType:"submit",children:"Register"})})]}),d.jsxs("p",{children:["Already have an account? ",d.jsx(ye,{to:"/login",children:"Log In!"})]}),d.jsx(Ee,{title:"Successfully registered",open:e,onOk:t,children:d.jsx("pre",{children:JSON.stringify(R(),null,2)})})]})}export{Qe as RegistrationPage};
